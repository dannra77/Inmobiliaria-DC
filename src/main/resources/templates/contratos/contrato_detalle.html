<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Detalle Contrato</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        body {
            background-color: #1e1e1e;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
        }
        h1, h2 {
            color: #a75858;
            margin-bottom: 20px;
        }
        p {
            font-size: 1.1rem;
        }
        pre {
            background-color: #2c2c2c;
            padding: 10px;
            border-radius: 6px;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #d9d9d9;
        }
        .container {
            max-width: 700px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Contrato Guardado</h1>

    <p><strong>ID:</strong> <span th:text="${contratoGenerado.id} ?: '-'"></span></p>
    <p><strong>Fecha Inicio:</strong>
        <span th:text="${contratoGenerado.fechaInicio != null} ? ${#dates.format(contratoGenerado.fechaInicio, 'dd/MM/yyyy')} : '-'"></span>
    </p>
    <p><strong>Fecha Fin:</strong>
        <span th:text="${contratoGenerado.fechaFin != null} ? ${#dates.format(contratoGenerado.fechaFin, 'dd/MM/yyyy')} : '-'"></span>
    </p>
    <p><strong>Monto Mensual:</strong> $<span th:text="(${contratoGenerado.montoMensual} != null) ? ${contratoGenerado.montoMensual} : '0.00'"></span></p>
    <p><strong>Tipo de Índice:</strong> <span th:text="(${contratoGenerado.tipoIndice} != null) ? ${contratoGenerado.tipoIndice} : '-'"></span></p>
    <p><strong>Frecuencia de Ajuste (meses):</strong> <span th:text="(${contratoGenerado.frecuenciaMeses} != null) ? ${contratoGenerado.frecuenciaMeses} : '-'"></span></p>
    <p><strong>Propiedad:</strong>
        <span th:text="(${contratoGenerado.propiedad} != null) ? ${contratoGenerado.propiedad.titulo} : '-'"></span>
    </p>

    <p><strong>TGI:</strong> <span th:text="(${contratoGenerado.tgi} != null) ? ${contratoGenerado.tgi} : '-'"></span></p>

    <div th:if="${contratoGenerado.expensas == 'LOCATARIO' and contratoGenerado.montoExpensas != null}">
        <p><strong>Expensas a cargo del Locatario</strong></p>
        <p><strong>Monto de Expensas:</strong> $<span th:text="${contratoGenerado.montoExpensas}"></span></p>
    </div>

    <div th:if="${contratoGenerado.garantes != null and #lists.isNotEmpty(contratoGenerado.garantes)}">
        <h2>Garantes</h2>
        <ul>
            <li th:each="garante : ${contratoGenerado.garantes}">
                <span th:text="(garante.persona != null) ? ${garante.persona.nombre + ' ' + garante.persona.apellido} : 'N/A'"></span>
            </li>
        </ul>
    </div>

    <div th:if="${contratoGenerado.habitantes != null and #lists.isNotEmpty(contratoGenerado.habitantes)}">
        <h2>Habitantes</h2>
        <ul>
            <li th:each="habitante : ${contratoGenerado.habitantes}">
                <span th:text="(habitante.persona != null) ? ${habitante.persona.nombre + ' ' + habitante.persona.apellido} : 'N/A'"></span>
            </li>
        </ul>
    </div>

    <div th:if="${contratoGenerado.clausulas != null}">
        <p><strong>Cláusulas:</strong></p>
        <pre th:text="${contratoGenerado.clausulas}"></pre>
    </div>
</div>
</body>
</html>


